{
  "$id":"https://gabl.ink/index/en/schema/index.json",
  "$schema":"https://json-schema.org/draft/2020-12/schema",
  "title":"gabl.ink content JSON schema",
  "description":"schema for gabl.ink content JSON files",
  "type":"object",
  "properties":{
    "id":{
      "description":"[object] identifier (ID) for the item",
      "type":"object",
      "properties":{
        "full":{
          "description":"[string] full identifier (ID) for the item",
          "type":"string",
          "minLength":2,
          "pattern":"^[A-Za-z0-9-]{2,}(/[a-z0-9])*$"
        },
        "parent":{
          "description":"[string/null] parent identifier (ID) for the item",
          "type":[
            "string",
            "null"
          ],
          "minLength":2,
          "pattern":"^[A-Za-z0-9-]{2,}(/[a-z0-9])*$"
        },
        "base":{
          "description":"[string] part of the item’s identifier (ID) after the last slash, or same as full ID for root-level ID",
          "type":"string",
          "minLength":1,
          "pattern":"^[A-Za-z0-9-]+$"
        },
        "required":[
          "full",
          "parent",
          "base"
        ]
      }
    },
    "content":{
      "description":"[string] content type for the item",
      "type":"string",
      "minLength":1,
      "pattern":".+"
    },
    "language":{
      "description":"[string] (primary) IETF language code for the item",
      "type":"string",
      "minLength":2,
      "pattern":"^[A-Za-z0-9-]{2,}$"
    },
    "title":{
      "description":"[string] title for the item",
      "type":"string",
      "minLength":1,
      "pattern":".+"
    },
    "date":{
      "description":"[objects] calendar dates for the item (UTC)",
      "type":"object",
      "properties":{
        "published":{
          "description":"[object] calendar date of the item’s first publication (UTC)",
          "type":"object",
          "properties":{
            "year":{
              "description":"[integer] year of the item’s first publication (UTC), up to 9999",
              "type":"integer",
              "minimum":2022,
              "maximum":9999
            },
            "month":{
              "description":"[integer] number of the month of the item’s first publication (UTC)",
              "type":"integer",
              "minimum":1,
              "maximum":12
            },
            "day":{
              "description":"[integer] day of the month of the item’s first publication (UTC)",
              "type":"integer",
              "minimum":1,
              "maximum":31
            },
            "full":{
              "description":"[string] ISO 8601 date of the item’s first publication (UTC), up to 9999-12-31",
              "type":"string",
              "minimum":10,
              "maximum":10
              "pattern":"^[2-9][0-9]{3}-([1-9]|[12][012])-([1-9]|[12][0-9]|3[01])$"
            }
          },
          "required":[
            "year",
            "month",
            "day"
          ]
        },
        "updated":{
          "description":"[object] calendar date of the item’s last update (UTC)",
          "type":"object",
          "properties":{
            "year":{
              "description":"[integer] year of the item’s latest update (UTC)",
              "type":"integer",
              "minimum":2024
            },
            "month":{
              "description":"[integer] number of the month of the item’s latest update (UTC)",
              "type":"integer",
              "minimum":1,
              "maximum":12
            },
            "day":{
              "description":"[integer] day of the month of the item’s latest update (UTC)",
              "type":"integer",
              "minimum":1,
              "maximum":31
            },
            "full":{
              "description":"[string] ISO 8601 date of the item’s latest update (UTC), up to 9999-12-31",
              "type":"string",
              "format":"date",
              "minLength":10,
              "maxLength":10,
              "pattern":"^[2-9][0-9]{3}-([1-9]|[12][012])-([1-9]|[12][0-9]|3[01])$"
            },
            "hour":{
              "description":"[integer] increments each time the item is updated on the same day (UTC), not a unit of time",
              "type":"integer",
              "minimum":0
            }
          },
          "required":[
            "year",
            "month",
            "day",
            "full",
            "hour"
          ]
        },
        "required":[
          "published",
          "updated"
        ]
      }
    },
    "author":{
      "description":"[string(s)] the creator(s) of the item",
      "type":[
        "string",
        "array"
      ],
      "items":{
        "type":"string"
      },
      "minLength":1,
      "pattern":".+",
      "uniqueItems":true
    },
    "format":{
      "description":"[object] avilable file format(s) for the item (filename extension, no dot)",
      "type":"object",
      "properties":{
        "image":{
          "description":"[string(s)] available image file format(s) for the item (filename extension, no dot)",
          "type":[
            "string",
            "array"
          ],
          "items":{
            "type":"string"
          },
          "minLength":1,
          "maxLength":121,
          "pattern":"^[A-Za-z0-9._-]{1,121}$",
          "uniqueItems":true
        }
      },
      "required":[
        "image"
      ]
    },
    "license":{
      "description":"[string(s)] SPDX license identifier(s) for the item",
      "type":[
        "string",
        "array"
      ],
      "items":{
        "type":"string"
      },
      "minLength":1,
      "pattern":"^[A-Za-z0-9.+-]+$"
    }
  },
  "required":[
    "id",
    "content",
    "language",
    "title",
    "date",
    "author",
    "format",
    "license"
  ]
}
